{"version":3,"sources":["helpers/fetch.js","types/types.js","actions/auth.js","hooks/useForm.js","components/Authentication/LoginView.js","components/Authentication/RegisterView.js","components/common/Navbar.js","actions/ui.js","components/common/FAB.js","helpers/calendar-labels.js","components/Calendar/CalendarAppoitments.js","helpers/custom-styles.js","helpers/prepareAppoitments.js","actions/events.js","components/Calendar/CalendarModal.js","components/common/FABDROP.js","components/Calendar/CalendarView.js","router/PrivateRoute.js","router/PublicRoute.js","router/Router.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","App.js","index.js"],"names":["baseURL","process","fetchLessToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","types","uiOpenModal","uiCloseModal","eventSetActive","eventStartAddNew","eventAddNew","eventClearEventActive","eventUpdated","eventDeleted","eventLoaded","eventLogout","auhtCheckingFinish","auhtStartLogn","authLogin","authStartRegister","authStartTokenRenew","authLogout","login","user","type","payload","logout","checkingFinish","useForm","initialState","useState","values","setValues","reset","handleInputChange","target","name","value","LoginView","dispatch","useDispatch","Email","Password","formValues","handleLoginInputChange","className","onSubmit","e","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","icon","title","text","msg","placeholder","onChange","to","RegisterView","Name","Password1","Password2","handleInputChanges","Navbar","useSelector","state","auth","onClick","clear","FAB","messages","allDay","previous","next","today","month","week","day","agenda","date","time","event","noEventsInRange","showMore","total","CalendarAppoitments","customStyles","content","top","left","right","bottom","marginRight","transform","prepareAppoitments","events","map","end","moment","toDate","start","Modal","setAppElement","now","minutes","seconds","add","then","clone","initEvents","notes","CalendarModal","modalOpen","ui","activeEvent","calendar","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","setFormValues","useEffect","closeModal","isOpen","onRequestClose","style","closeTimeoutMS","contentLabel","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","length","id","console","log","getState","appoitmentCreated","_id","minDate","autoComplete","rows","FABDROP","locale","localizer","momentLocalizer","CalendarView","appoitments","appoitmens","lastView","setLastView","startAccessor","endAccessor","onDoubleClickEvent","onSelectEvent","onView","view","onSelectSlot","selectable","eventPropGetter","isSelected","backgroundColor","borderRadius","opacoty","display","color","components","PrivateRoute","isAuthenticated","Component","component","rest","props","PublicRoute","RouterApp","exact","path","initalState","checking","rootReducer","combineReducers","action","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","App","Router","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c56f5813.chunk.js","sourcesContent":["const baseURL = process.env.REACT_APP_API_URL;\n\nconst fetchLessToken = (endpoint, data, method = 'GET') => {\n    const url = `${baseURL}/${endpoint}`\n    if(method === 'GET'){\n        return fetch(url)\n    }else {\n        return fetch(url, {\n            method,\n            headers: {\n                'Content-type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        })\n    }\n} \n\nconst fetchWithToken = (endpoint, data, method = 'GET') => {\n    const url = `${baseURL}/${endpoint}`\n    const token = localStorage.getItem('token') || ''\n    if(method === 'GET'){\n        return fetch(url, {\n            method,\n            headers: {\n                'x-token': token\n            }\n        })\n    }else {\n        return fetch(url, {\n            method,\n            headers: {\n                'Content-type': 'application/json',\n                'x-token': token\n            },\n            body: JSON.stringify(data)\n        })\n    }\n} \n\nexport {\n    fetchLessToken,\n    fetchWithToken\n}","export const types = {\n    uiOpenModal: '[ui] Open Modal',\n    uiCloseModal: '[ui] Close Modal',\n\n    eventSetActive: '[event] Set Active',\n    eventStartAddNew: '[event] Start Add New',\n    eventAddNew: '[event] Add New',\n    eventClearEventActive: '[event] Clear Event',\n    eventUpdated: '[event] Event Updated',\n    eventDeleted: '[event] Event Deleted',\n    eventLoaded: '[event] Events Loaded',\n    eventLogout: '[event] Event Logout',\n\n    auhtCheckingFinish: '[auth] Finish Checking login state',\n    auhtStartLogn: '[auth] Start login',\n    authLogin: '[auth] Login',\n    authStartRegister: '[auth] Start Register',\n    authStartTokenRenew: '[auth] Start Token renew',\n    authLogout: '[auth] Logout'\n\n}","import Swal from \"sweetalert2\"\nimport { fetchLessToken, fetchWithToken } from \"../helpers/fetch\"\nimport { types } from \"../types/types\"\n\nexport const startLogin = (email, password) => {\n    return async (dispatch) => {\n        const resp = await fetchLessToken('auth', {email, password}, 'POST')\n        const body = await resp.json()\n\n        if(body.ok) {\n            localStorage.setItem('token', body.token)\n            localStorage.setItem('token-init-date', new Date().getTime())\n\n            dispatch(login({\n                uid: body.uid,\n                name: body.name\n            }))\n        } else {\n            Swal.fire({\n                icon: \"error\",\n                title: \"Fallo de Autenticación\",\n                text: body.msg,\n              });\n        }\n    }\n}\n\nexport const startRegister = (email, password, name) => {\n    return async (dispatch) => {\n        const resp = await fetchLessToken('auth/new', {email, password, name}, 'POST')\n        const body = await resp.json()\n\n        if(body.ok) {\n            localStorage.setItem('token', body.token)\n            localStorage.setItem('token-init-date', new Date().getTime())\n\n            dispatch(login({\n                uid: body.uid,\n                name: body.name\n            }))\n        } else {\n            Swal.fire({\n                icon: \"error\",\n                title: \"Error\",\n                text: body.msg,\n              });\n        }\n    }\n}\n\nconst login = (user) => ({\n    type: types.authLogin,\n    payload: user\n})\n\nexport const startLogout = () => {\n    return (dispatch) => {\n        localStorage.clear()\n        dispatch(eventLogout())\n        dispatch(logout())\n    }\n}\n\nconst logout = () => ({type: types.authLogout})\n\nexport const startChecking = () => {\n    return async (dispatch) => {\n        const resp = await fetchWithToken('auth/renew')\n        const body = await resp.json()\n\n        if(body.ok) {\n            localStorage.setItem('token', body.token)\n            localStorage.setItem('token-init-date', new Date().getTime())\n\n            dispatch(login({\n                uid: body.uid,\n                name: body.name\n            }))\n        } else {\n              dispatch(checkingFinish())\n        }\n    }\n}\n\nconst checkingFinish = () => ({type: types.auhtCheckingFinish})\n\nexport const eventLogout = () => ({ type: types.eventLogout})","import { useState } from 'react';\n\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState(initialState);\n\n    const reset = () => {\n        setValues( initialState );\n    }\n\n\n    const handleInputChange = ({ target }) => {\n\n        setValues({\n            ...values,\n            [ target.name ]: target.value\n        });\n\n    }\n\n    return [ values, handleInputChange, reset ];\n\n}","import React from \"react\";\nimport \"./login.css\";\nimport { Link } from \"react-router-dom\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { useDispatch } from \"react-redux\";\nimport { startLogin } from \"../../actions/auth\";\n\nconst LoginView = () => {\n\n  const dispatch = useDispatch()\n\n  const [ formValues, handleLoginInputChange ] = useForm({\n    Email: '',\n    Password: ''\n  });\n\n  const {Email, Password} = formValues;\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    dispatch(startLogin(Email, Password))\n  }\n\n  return (\n    <>\n      <h1 className=\"text-center font-main display-4 text-main\">\n        App-oitments\n      </h1>\n      <div className=\"container login-container \">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3 login-form-1 bg-white\">\n            <h3>Login</h3>\n            <form onSubmit={handleLogin}>\n              <div className=\"form-group\">\n                <input\n                  type=\"email\"\n                  className=\"form-control\"\n                  placeholder=\"Correo\"\n                  name=\"Email\"\n                  value={Email}\n                  onChange={handleLoginInputChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Contraseña\"\n                  name=\"Password\"\n                  value={Password}\n                  onChange={handleLoginInputChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"submit\"\n                  className=\"btnSubmit btn btn-block\"\n                  value=\"Login\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <Link to=\"/register\" value=\"Login\">\n                  Crear una cuenta\n                </Link>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LoginView;\n","import React from \"react\";\nimport \"./login.css\";\nimport { Link } from \"react-router-dom\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { useDispatch } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { startRegister } from \"../../actions/auth\";\n\nconst RegisterView = () => {\n\n  const dispatch = useDispatch()\n\n  const [ formValues, handleInputChanges ] = useForm({\n    Name: '',\n    Email: '',\n    Password1: '',\n    Password2: '',\n  });\n\n  const {Name, Email, Password1, Password2} = formValues;\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    if(Password1 !== Password2) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Error\",\n        text: 'Las contraseñas deben ser iguales',\n      });\n    }\n    dispatch(startRegister(Email, Password1, Name))\n  }\n\n  return (\n    <>\n      <h1 className=\"text-center font-main display-4 text-main\">\n        App-oitments\n      </h1>\n      <div className=\"container login-container \">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3 login-form-2\">\n            <h3>Registro</h3>\n            <form onSubmit={handleRegister}>\n              <div className=\"form-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Nombre\"\n                  name=\"Name\"\n                  value={Name}\n                  onChange={handleInputChanges}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"email\"\n                  className=\"form-control\"\n                  placeholder=\"Correo\"\n                  name=\"Email\"\n                  value={Email}\n                  onChange={handleInputChanges}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Contraseña\"\n                  name=\"Password1\"\n                  value={Password1}\n                  onChange={handleInputChanges}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Repita la contraseña\"\n                  name=\"Password2\"\n                  value={Password2}\n                  onChange={handleInputChanges}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <input\n                  type=\"submit\"\n                  className=\"btnSubmit btn btn-block\"\n                  value=\"Crear cuenta\"\n                />\n              </div>\n              <Link to=\"/login\" className=\"text-white\" value=\"Login\">\n                Iniciar Sesion\n              </Link>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default RegisterView;\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { startLogout } from '../../actions/auth'\n\nconst Navbar = () => {\n\n    const dispatch = useDispatch()\n\n    const handleLogout = () => {\n        dispatch(startLogout())\n    }\n\n    const {name} = useSelector(state => state.auth)\n    return (\n        <div className=\"navbar navbar-dark bg-dark mb-4\">\n            <span className=\"navbar-brand\">\n                {name}\n            </span>\n            <button \n                className=\"btn btn-sm btn-outline-danger\"\n                onClick={handleLogout}\n            >\n                <i className=\"fas fa-sign-out-alt\"></i>\n                <span> Logout</span>\n            </button>\n        </div>\n    )\n}\n\nexport default Navbar\n","import { types } from \"../types/types\";\n\nexport const uiOpenModal = () => ({type: types.uiOpenModal});\nexport const uiCloseModal = () => ({type: types.uiCloseModal});\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { uiOpenModal } from '../../actions/ui'\n\nconst FAB = () => {\n\n    const dispatch = useDispatch()\n\n    const handleButtonOpen = () => {\n        dispatch(uiOpenModal())\n    }\n\n    return (\n        <button\n            className=\"btn btn-success fab\"\n            onClick={handleButtonOpen}\n        >\n            <i className=\"fas fa-plus\"></i>\n        </button>\n    )\n}\n\nexport default FAB\n","const messages = {\n    allDay: 'Todo el día',\n    previous: '<',\n    next: '>',\n    today: 'Hoy',\n    month: 'Mes',\n    week: 'Semana',\n    day: 'Día',\n    agenda: 'Agenda',\n    date: 'Fecha',\n    time: 'Hora',\n    event: 'Evento',\n    noEventsInRange: 'No hay eventos en este rango',\n    showMore: total => `+ Ver más (${total})`\n};\n\nexport default messages","import React from 'react'\n\nconst CalendarAppoitments = ({event}) => {\n\n    const {title, user} = event\n    return (\n        <div>\n            <span>{title} </span>\n            <strong>- {user.name}</strong>\n        </div>\n    )\n}\n\nexport default CalendarAppoitments\n","const customStyles = {\n    content: {\n      top: \"50%\",\n      left: \"50%\",\n      right: \"auto\",\n      bottom: \"auto\",\n      marginRight: \"-50%\",\n      transform: \"translate(-50%, -50%)\",\n    },\n  };\n\n  export default customStyles","import moment from \"moment\";\n\nexport const prepareAppoitments = (events =[]) => {\n    return events.map(e => ({\n        ...e,\n        end: moment(e.end).toDate(),\n        start: moment(e.start).toDate()\n    }))\n}","import Swal from \"sweetalert2\";\nimport { fetchWithToken } from \"../helpers/fetch\";\nimport { prepareAppoitments } from \"../helpers/prepareAppoitments\";\nimport { types } from \"../types/types\";\n\nexport const eventStartAddNew = (event) => {\n  return async (dispatch, getState) => {\n\n    try {\n\n      const {uid, name} = getState().auth;\n\n      const resp = await fetchWithToken('appoitment', event, 'POST')\n      const body = await resp.json()\n\n      if(body.ok) {\n        event.id = body.appoitmentCreated.id\n        event.user = {\n          _id: uid,\n          name: name\n        }\n        dispatch(eventAddNew(event))\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n  }\n}\n\nconst eventAddNew = (event) => ({\n  type: types.eventAddNew,\n  payload: event,\n});\n\nexport const eventSetActive = (event) => ({\n  type: types.eventSetActive,\n  payload: event,\n});\n\nexport const eventClearEventActive = () => ({\n  type: types.eventClearEventActive,\n});\n\nexport const eventStartUpdate = (event) => {\n  return async (dispatch) => {\n    try {\n      \n      const resp = await fetchWithToken(`appoitment/${event.id}`, event, 'PUT')\n      const body = await resp.json()\n      \n      if(body.ok) {\n        dispatch(eventUpdated(event))\n      }else {\n         Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: body.msg,\n        })\n      }\n\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nconst eventUpdated = (event) => ({\n  type: types.eventUpdated,\n  payload: event,\n});\n\nexport const eventDeleted = (event) => ({\n  type: types.eventDeleted,\n});\n\n\nexport const eventStartLoading = () => {\n  return async (dispatch) => {\n    try {\n      const resp = await fetchWithToken('appoitment')\n      const body = await resp.json()\n\n      const appoitments = prepareAppoitments(body.appoitmens)\n      dispatch(eventLoaded(appoitments))\n\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nconst eventLoaded = (event) => ({\n  type: types.eventLoaded,\n  payload: event\n})\n\nexport const eventStartDelete = () => {\n  return async (dispatch, getState) => {\n    try {\n\n      const {id} = getState().calendar.activeEvent\n\n      const resp = await fetchWithToken(`appoitment/${id}`, {}, 'DELETE')\n      const body = await resp.json()\n      \n      if(body.ok) {\n        dispatch(eventDeleted())\n      }else {\n         Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: body.msg,\n        })\n      }\n\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiCloseModal } from \"../../actions/ui\";\n\nimport Modal from \"react-modal\";\nimport DateTimePicker from \"react-datetime-picker\";\nimport moment from \"moment\";\nimport Swal from \"sweetalert2\";\n\nimport \"../../index.css\";\nimport customStyles from \"../../helpers/custom-styles\";\nimport { eventClearEventActive, eventStartAddNew, eventStartUpdate } from \"../../actions/events\";\n\nModal.setAppElement(\"#root\");\n\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\");\nconst then = now.clone().add(1, \"hours\");\n\nconst initEvents = {\n  title: \"\",\n  notes: \"\",\n  start: now.toDate(),\n  end: then.toDate(),\n};\n\nconst CalendarModal = () => {\n  const dispatch = useDispatch();\n\n  const { modalOpen } = useSelector((state) => state.ui);\n  const { activeEvent } = useSelector((state) => state.calendar);\n\n  const [dateStart, setDateStart] = useState(now.toDate());\n  const [dateEnd, setDateEnd] = useState(then.toDate());\n  const [titleValid, setTitleValid] = useState(true);\n\n  const [formValues, setFormValues] = useState(initEvents);\n\n  const { notes, title, start, end } = formValues;\n\n  useEffect(() => {\n    activeEvent ? setFormValues(activeEvent) : setFormValues(initEvents)\n  }, [activeEvent])\n\n  const handleInputChanges = ({ target }) => {\n    setFormValues({\n      ...formValues,\n      [target.name]: target.value,\n    });\n  };\n\n  const closeModal = () => {\n    dispatch(uiCloseModal());\n    setFormValues(initEvents);\n    dispatch(eventClearEventActive())\n  };\n\n  const handleDateStartChange = (e) => {\n    setDateStart(e);\n    setFormValues({\n      ...formValues,\n      start: e,\n    });\n  };\n\n  const handleDateEndChange = (e) => {\n    setDateEnd(e);\n    setFormValues({\n      ...formValues,\n      end: e,\n    });\n  };\n\n  const handleSubmitForm = (e) => {\n    e.preventDefault();\n\n    const momentStart = moment(start);\n    const momentEnd = moment(end);\n\n    if (momentStart.isSameOrAfter(momentEnd)) {\n      return Swal.fire({\n        icon: \"error\",\n        title: \"Oops...\",\n        text: \"La fecha de finalizacion debe ser mayor a la de inicio\",\n      });\n    }\n    if (title.trim().length < 2) {\n      return setTitleValid(false);\n    }\n\n    if(activeEvent){\n      dispatch(eventStartUpdate(formValues))\n    }else {\n      dispatch(eventStartAddNew(formValues));\n    }\n    \n    setTitleValid(true);\n    closeModal();\n  };\n\n  return (\n    <Modal\n      isOpen={modalOpen}\n      onRequestClose={closeModal}\n      style={customStyles}\n      closeTimeoutMS={200}\n      contentLabel=\"Example Modal\"\n      className=\"modal\"\n      overlayClassName=\"modal-fondo\"\n    >\n      <h1> { activeEvent ? 'Editar Cita' : 'Crear Cita' } </h1>\n      <hr />\n      <form className=\"container\" onSubmit={handleSubmitForm}>\n        <div className=\"form-group\">\n          <label>Fecha y hora inicio</label>\n          <DateTimePicker\n            onChange={handleDateStartChange}\n            value={dateStart}\n            className=\"form-control\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Fecha y hora fin</label>\n          <DateTimePicker\n            onChange={handleDateEndChange}\n            value={dateEnd}\n            minDate={dateStart}\n            className=\"form-control\"\n          />\n        </div>\n\n        <hr />\n        <div className=\"form-group\">\n          <label>Titulo y notas</label>\n          <input\n            type=\"text\"\n            className={`form-control ${!titleValid && \"is-invalid\"}`}\n            placeholder=\"Título del evento\"\n            name=\"title\"\n            autoComplete=\"off\"\n            value={title}\n            onChange={handleInputChanges}\n          />\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            Una descripción corta\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <textarea\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Notas\"\n            rows=\"5\"\n            name=\"notes\"\n            value={notes}\n            onChange={handleInputChanges}\n          ></textarea>\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            Información adicional\n          </small>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\n          <i className=\"far fa-save\"></i>\n          <span> Guardar</span>\n        </button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default CalendarModal;\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { eventStartDelete } from '../../actions/events'\n\n\nconst FABDROP = () => {\n    const dispatch = useDispatch()\n\n    const handleDelete = () => {\n        dispatch(eventStartDelete())\n    }\n\n    return (\n        <button \n            className=\"btn btn-danger fab-drop\"\n            onClick={handleDelete}\n        >\n            <span>Borrar </span>\n            <i className=\"fas fa-trash\"></i>\n        </button>\n    )\n}\n\nexport default FABDROP\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\n\nimport Navbar from \"../common/Navbar\";\nimport FAB from \"../common/FAB\";\nimport messages from \"../../helpers/calendar-labels\";\nimport CalendarAppoitments from \"./CalendarAppoitments\";\nimport CalendarModal from \"./CalendarModal\";\n\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport \"moment/locale/es\";\nimport { uiOpenModal } from \"../../actions/ui\";\nimport { eventClearEventActive, eventSetActive, eventStartLoading } from \"../../actions/events\";\nimport FABDROP from \"../common/FABDROP\";\n\nmoment.locale(\"es\");\n\nconst localizer = momentLocalizer(moment);\n\nconst CalendarView = () => {\n  const dispatch = useDispatch();\n  const { events, activeEvent } = useSelector((state) => state.calendar);\n  const {uid} = useSelector(state => state.auth)\n\n  useEffect(() => {\n    dispatch(eventStartLoading())\n  },[dispatch])\n\n  const [lastView, setLastView] = useState(\n    localStorage.getItem(\"lastView\") || \"month\"\n  );\n\n  const onDoubleClick = (e) => {\n    dispatch(uiOpenModal());\n  };\n\n  const onSelectEvent = (e) => {\n    dispatch(eventSetActive(e));\n  };\n\n  const onViewChange = (e) => {\n    setLastView(e);\n    localStorage.setItem(\"lastView\", e);\n  };\n\n  const onSelectSlot = (e) => {\n    dispatch(eventClearEventActive())\n  }\n\n  const eventStyleGetter = (event, start, end, isSelected) => {\n\n\n\n    const style = {\n      backgroundColor: (uid === event.user._id) ? \"#367CF7\" : \"#E6E6E6\",\n      borderRadius: \"0px\",\n      opacoty: 0.8,\n      display: \"block\",\n      color: (uid === event.user._id) ? \"white\" : \"black\",\n    };\n    return {\n      style,\n    };\n  };\n\n  return (\n    <div className=\"calendar-screen\">\n      <Navbar />\n\n      <Calendar\n        localizer={localizer}\n        events={events}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        messages={messages}\n        onDoubleClickEvent={onDoubleClick}\n        onSelectEvent={onSelectEvent}\n        onView={onViewChange}\n        view={lastView}\n        onSelectSlot={onSelectSlot}\n        selectable={true}\n        eventPropGetter={eventStyleGetter}\n        components={{\n          event: CalendarAppoitments,\n        }}\n      />\n\n      <FAB />\n      {\n        activeEvent && \n        <FABDROP />\n      }\n      <CalendarModal />\n    </div>\n  );\n};\n\nexport default CalendarView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route, Redirect } from 'react-router-dom';\n\n\nexport const PrivateRoute = ({\n    isAuthenticated,\n    component: Component,\n    ...rest\n}) => {\n\n    return (\n        <Route { ...rest }\n            component={ (props) => (\n                ( isAuthenticated )\n                    ? ( <Component { ...props } /> )\n                    : ( <Redirect to=\"/login\" /> )\n            )}\n        \n        />\n    )\n}\n\nPrivateRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    component: PropTypes.func.isRequired\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route, Redirect } from 'react-router-dom';\n\n\nexport const PublicRoute = ({\n    isAuthenticated,\n    component: Component,\n    ...rest\n}) => {\n\n    return (\n        <Route { ...rest }\n            component={ (props) => (\n                ( isAuthenticated )\n                    ? ( <Redirect to=\"/\" /> )\n                    : ( <Component { ...props } /> )\n            )}\n        \n        />\n    )\n}\n\nPublicRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    component: PropTypes.func.isRequired\n}\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\nimport { startChecking } from \"../actions/auth\";\nimport LoginView from \"../components/Authentication/LoginView\";\nimport RegisterView from \"../components/Authentication/RegisterView\";\nimport CalendarView from \"../components/Calendar/CalendarView\";\nimport { PrivateRoute } from \"./PrivateRoute\";\nimport { PublicRoute } from \"./PublicRoute\";\n\nconst RouterApp = () => {\n  const dispatch = useDispatch();\n  const { uid } = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    dispatch(startChecking());\n  }, [dispatch]);\n\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <PublicRoute\n            exact\n            path=\"/login\"\n            component={LoginView}\n            isAuthenticated={!!uid}\n          />\n\n          <PublicRoute\n            exact\n            path=\"/register\"\n            component={RegisterView}\n            isAuthenticated={!!uid}\n          />\n\n          <PrivateRoute\n            exact\n            path=\"/\"\n            component={CalendarView}\n            isAuthenticated={!!uid}\n          />\n\n          <Redirect to=\"/\" />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default RouterApp;\n","import { types } from \"../types/types\";\n\nconst initalState = {\n    checking: true,\n    // uid: null,\n    // name: null\n}\n\nexport const authReducer = (state = initalState, action) => {\n    switch (action.type) {\n        case types.authLogin:\n            return {\n                ...state,\n                checking: false,\n                ...action.payload\n            }\n        case types.checkingFinish:\n            return {\n                ...state,\n                checking: false\n            }\n        case types.authLogout: \n            return {\n                checking: false\n            }\n        case types.eventLogout:\n            return {\n                ...initalState\n            }\n    \n        default:\n            return state;\n    }\n}","import { types } from \"../types/types\";\n\n// {\n//   id: new Date().getTime(),\n//   title: \"cumple Alexs\",\n//   start: moment().toDate(),\n//   end: moment().add(2, \"h\").toDate(),\n//   bgcolor: \"#fafafa\",\n//   notes: \"comprar el queque\",\n//   user: {\n//     _id: \"1234\",\n//     name: \"Alexs\",\n//   },\n// }\n\nconst initialState = {\n  events: [],\n  activeEvent: null,\n};\n\nexport const calendarReducer = (state = initialState, action) => {\n  switch (action.type) {\n      case types.eventSetActive:\n          return {\n              ...state,\n              activeEvent: action.payload\n          }\n    case types.eventAddNew:\n    return {\n        ...state,\n        events: [\n            ...state.events,\n            action.payload\n        ]\n    }\n\n    case types.eventClearEventActive:\n      return {\n        ...state,\n        activeEvent: null\n      }\n\n    case types.eventUpdated:\n      return {\n        ...state,\n        events: state.events.map(\n          e => (e.id === action.payload.id) ? action.payload : e\n        )\n      }\n\n      case types.eventDeleted:\n        return {\n          ...state,\n          events: state.events.filter(\n            e => (e.id !== state.activeEvent.id)\n          ),\n          activeEvent: null\n        }\n      case types.eventLoaded:\n        return {\n          ...state,\n          events: [...action.payload]\n        }\n\n    default:\n      return state;\n  }\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n    modalOpen: false\n}\n\nexport const uiReducer= (state = initialState, action) => {\n    switch (action.type) {\n        case types.uiOpenModal:\n            return {\n                ...state,\n                modalOpen: true\n            }\n        case types.uiCloseModal:\n            return {\n                ...state,\n                modalOpen: false\n            }\n    \n        default:\n            return state;\n    }\n}","import {combineReducers} from 'redux'\nimport { authReducer } from './authReducer'\nimport { calendarReducer } from './calendarReducer'\nimport { uiReducer } from './uiReducer'\n\nexport const rootReducer = combineReducers({\n    ui: uiReducer,\n    calendar: calendarReducer,\n    auth: authReducer\n})","import { createStore, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { rootReducer } from \"../reducers/rootReducer\";\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\n\nexport const store = createStore(\n    rootReducer,\n    composeEnhancers(\n        applyMiddleware(thunk)\n    )\n)\n","import React from 'react'\nimport RouterApp from './router/Router'\nimport {Provider} from 'react-redux'\nimport { store } from './store/store'\n\nconst App = () => {\n    return (\n        <Provider store={store}>\n            <RouterApp />\n        </Provider>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}